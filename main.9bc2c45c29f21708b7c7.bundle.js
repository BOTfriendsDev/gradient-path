(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{232:function(module,exports,__webpack_require__){__webpack_require__(233),__webpack_require__(336),module.exports=__webpack_require__(337)},337:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(18),__webpack_require__(19),__webpack_require__(17),__webpack_require__(20),__webpack_require__(27);var _storybook_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(79);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.addParameters)({options:{addonPanelInRight:!0}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_5__.configure)(function loadStories(){var req=__webpack_require__(493);req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(174)(module))},493:function(module,exports,__webpack_require__){var map={"./index.stories.js":494};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=493},494:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(24),__webpack_require__(25),__webpack_require__(31),__webpack_require__(75),__webpack_require__(18),__webpack_require__(19),__webpack_require__(1),__webpack_require__(220),__webpack_require__(221),__webpack_require__(17),__webpack_require__(32),__webpack_require__(20),__webpack_require__(27);var react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(21),react__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_13__),_storybook_react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(79),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(12),d3__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(59),_index__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(58);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)(descriptor=props[i]).enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}var samplePathData="M24.3,30\nC11.4,30,5,43.3,5,50\ns6.4,20,19.3,20\nc19.3,0,32.1-40,51.4-40\nC88.6,30,95,43.3,95,50\ns-6.4,20-19.3,20\nC56.4,70,43.6,30,24.3,30z",stories=Object(_storybook_react__WEBPACK_IMPORTED_MODULE_14__.storiesOf)("GradientPath",module);stories.addDecorator(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.withKnobs),stories.add("default",function(){var debug=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.boolean)("Debug",!1),data=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.text)('Path "d"',samplePathData),precision=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.number)("Precision",1,{range:!0,min:1,max:50,step:1}),width=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.number)("Width",10,{range:!0,min:1,max:50,step:1}),hasStroke=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.boolean)("Has stroke?",!0),stroke=hasStroke?Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.number)("Stroke",1,{range:!0,min:1,max:50,step:1}):null,repeat=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.boolean)("Should repeat?",!0),_ref=react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("svg",{id:"infinity",width:"300",height:"200",viewBox:"0 0 100 100"},react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("path",{fill:"none",d:data})),RenderComponent=function(_React$Component){function RenderComponent(){return _classCallCheck(this,RenderComponent),_possibleConstructorReturn(this,_getPrototypeOf(RenderComponent).apply(this,arguments))}return _inherits(RenderComponent,react__WEBPACK_IMPORTED_MODULE_13___default.a.Component),_createClass(RenderComponent,[{key:"componentDidMount",value:function componentDidMount(){Object(_index__WEBPACK_IMPORTED_MODULE_17__.a)({path:document.querySelector("#infinity path"),stops:[{color:"#E9A36C",pos:0},{color:"#965167",pos:.25},{color:"#231F3C",pos:.5},{color:"#965167",pos:.75},{color:"#E9A36C",pos:1}],width:width,precision:precision,stroke:hasStroke?stroke:null,repeat:repeat,debug:debug})}},{key:"render",value:function render(){return _ref}}]),RenderComponent}();return RenderComponent.displayName="RenderComponent",react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(RenderComponent,null)}),stories.add("using D3.js",function(){var debug=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.boolean)("Debug",!1),data=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.text)('Path "d"',samplePathData),precision=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.number)("Precision",1,{range:!0,min:1,max:50,step:1}),width=Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.number)("Width",10,{range:!0,min:1,max:50,step:1}),_ref2=(Object(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_15__.boolean)("Should repeat?",!0),react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("svg",{id:"infinity",width:"300",height:"200",viewBox:"0 0 100 100"},react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement("path",{fill:"none",d:data}))),RenderComponent=function(_React$Component2){function RenderComponent(){return _classCallCheck(this,RenderComponent),_possibleConstructorReturn(this,_getPrototypeOf(RenderComponent).apply(this,arguments))}return _inherits(RenderComponent,react__WEBPACK_IMPORTED_MODULE_13___default.a.Component),_createClass(RenderComponent,[{key:"componentDidMount",value:function componentDidMount(){var color=d3__WEBPACK_IMPORTED_MODULE_16__.a,path=d3__WEBPACK_IMPORTED_MODULE_16__.b("path").remove(),data=Object(_index__WEBPACK_IMPORTED_MODULE_17__.b)(path.node(),precision);d3__WEBPACK_IMPORTED_MODULE_16__.b("svg").selectAll("path").data(data).enter().append("path").style("fill",function(d){return color(d.color)}).attr("d",function(d){return Object(_index__WEBPACK_IMPORTED_MODULE_17__.c)(Object(_index__WEBPACK_IMPORTED_MODULE_17__.d)(d,width))}),debug&&data.forEach(function(vertex){vertex=vertex.filter(function(x){return x}),d3__WEBPACK_IMPORTED_MODULE_16__.b("svg").selectAll(".segment-dot").data(vertex).enter().append("circle").attr("cx",function(d){return d[0]}).attr("cy",function(d){return d[1]}).attr("fill","#000").attr("r",1),Object(_index__WEBPACK_IMPORTED_MODULE_17__.d)(vertex,width).forEach(function(point){d3__WEBPACK_IMPORTED_MODULE_16__.b("svg").selectAll(".quad-dot").data([point]).enter().append("circle").attr("cx",function(d){return d[0]}).attr("cy",function(d){return d[1]}).attr("fill","#f00").attr("r",1)})})}},{key:"render",value:function render(){return _ref2}}]),RenderComponent}();return RenderComponent.displayName="RenderComponent",react__WEBPACK_IMPORTED_MODULE_13___default.a.createElement(RenderComponent,null)})}.call(this,__webpack_require__(174)(module))},58:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return getData}),__webpack_require__.d(__webpack_exports__,"d",function(){return getPathPoints}),__webpack_require__.d(__webpack_exports__,"c",function(){return getPathData});__webpack_require__(24),__webpack_require__(25),__webpack_require__(31),__webpack_require__(33),__webpack_require__(18),__webpack_require__(89),__webpack_require__(19),__webpack_require__(506),__webpack_require__(74),__webpack_require__(37),__webpack_require__(44),__webpack_require__(17),__webpack_require__(90),__webpack_require__(32),__webpack_require__(507),__webpack_require__(20),__webpack_require__(27);var tinygradient__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(231),tinygradient__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(tinygradient__WEBPACK_IMPORTED_MODULE_17__);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}}(arr)||function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||"[object Arguments]"===Object.prototype.toString.call(iter))return Array.from(iter)}(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var getData=function(path,precision){return function computeQuads(points){return _toConsumableArray(Array(points.length-1).keys()).map(function(i){var a=[points[i-1],points[i],points[i+1],points[i+2]];return a.color=(points[i].color+points[i+1].color)/2,a})}(function getSamples(path,precision){var pathLength=path.getTotalLength(),samples=[];samples.push(0);for(var i=0;(i+=precision)<pathLength;)samples.push(i);return samples.push(pathLength),samples.map(function(t){var _path$getPointAtLengt=path.getPointAtLength(t),a=[_path$getPointAtLengt.x,_path$getPointAtLengt.y];return a.color=t/pathLength,a})}(path,precision))},getPathPoints=function(points,width){var getPerpendicular=function(p0,p1){var u01x=p0[1]-p1[1],u01y=p1[0]-p0[0],u01d=Math.sqrt(u01x*u01x+u01y*u01y);return[u01x/u01d,u01y/u01d]},getIntersection=function(a,b,c,d){var x1=c[0],x3=a[0],x21=d[0]-x1,x43=b[0]-x3,y1=c[1],y3=a[1],y21=d[1]-y1,y43=b[1]-y3,ua=(x43*(y1-y3)-y43*(x1-x3))/(y43*x21-x43*y21);return[x1+ua*x21,y1+ua*y21]},p0=points[0],p1=points[1],p2=points[2],p3=points[3],r=width/2,u12=getPerpendicular(p1,p2),a=[p1[0]+u12[0]*r,p1[1]+u12[1]*r],b=[p2[0]+u12[0]*r,p2[1]+u12[1]*r],c=[p2[0]-u12[0]*r,p2[1]-u12[1]*r],d=[p1[0]-u12[0]*r,p1[1]-u12[1]*r];if(p0){var u01=getPerpendicular(p0,p1),e=[p1[0]+u01[0]+u12[0],p1[1]+u01[1]+u12[1]];a=getIntersection(p1,e,a,b),d=getIntersection(p1,e,d,c)}if(p3){var u23=getPerpendicular(p2,p3),_e=[p2[0]+u23[0]+u12[0],p2[1]+u23[1]+u12[1]];b=getIntersection(p2,_e,a,b),c=getIntersection(p2,_e,d,c)}return[a,b,c,d]},getPathData=function(_ref){var _ref2=_slicedToArray(_ref,4),a=_ref2[0],b=_ref2[1],c=_ref2[2],d=_ref2[3];return"M".concat(a,"L").concat(b," ").concat(c," ").concat(d,"Z")};__webpack_exports__.a=function(_ref3){var path=_ref3.path,stops=_ref3.stops,width=_ref3.width,_ref3$precision=_ref3.precision,precision=void 0===_ref3$precision?1:_ref3$precision,_ref3$stroke=_ref3.stroke,stroke=void 0!==_ref3$stroke&&_ref3$stroke,_ref3$debug=(_ref3.repeat,_ref3.debug),data=getData(path,precision),gradient=tinygradient__WEBPACK_IMPORTED_MODULE_17___default()(stops),svg=path.closest("svg");path.parentNode.removeChild(path);var svgElem=function(type,attrs){var elem=document.createElementNS("http://www.w3.org/2000/svg",type);return Object.keys(attrs).forEach(function(attr){return elem.setAttribute(attr,attrs[attr])}),elem},group=svgElem("g",{class:"gradient-path"});svg.appendChild(group),data.forEach(function(quad){var allPoints=getPathPoints(quad,width),color=gradient.rgbAt(quad.color),pathStyles=[];pathStyles.push("fill: ".concat(color,";")),stroke&&(pathStyles.push("stroke: ".concat(color,";")),pathStyles.push("stroke-width: ".concat(stroke,";")));var quadPath=svgElem("path",{class:"quad-path",d:getPathData(allPoints),style:pathStyles.join("")});group.appendChild(quadPath),void 0!==_ref3$debug&&_ref3$debug&&(quad.forEach(function(vertex){if(vertex){var segmentDot=svgElem("circle",{class:"segment-dot",cx:vertex[0],cy:vertex[1],fill:"#000",r:1});group.appendChild(segmentDot)}}),allPoints.forEach(function(point){var quadDot=svgElem("circle",{class:"quad-dot",cx:point[0],cy:point[1],fill:"#f00",r:1});group.appendChild(quadDot)}))})}}},[[232,1,2]]]);
//# sourceMappingURL=main.9bc2c45c29f21708b7c7.bundle.js.map